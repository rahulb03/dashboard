'use client';

import { Check, ChevronsUpDown, GalleryVerticalEnd } from 'lucide-react';
import * as React from 'react';

import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger
} from '@/components/ui/dropdown-menu';
import {
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem
} from '@/components/ui/sidebar';

/**
 * Tenant object shape:
 * - id: string
 * - name: string
 */

export function OrgSwitcher({
  tenants,
  defaultTenant,
  onTenantSwitch
}) {
  const [selectedTenant, setSelectedTenant] = React.useState(
    defaultTenant || (tenants.length > 0 ? tenants[0] : undefined)
  );

  const handleTenantSwitch = (tenant) => {
    setSelectedTenant(tenant);
    if (onTenantSwitch) {
      onTenantSwitch(tenant.id);
    }
  };

  if (!selectedTenant) {
    return null;
  }
  return (
    <SidebarMenu>
      <SidebarMenuItem>
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <SidebarMenuButton
              size='lg'
              className='data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground'
            >
              <div className="h-8 flex items-center">
                <svg 
                  viewBox="0 0 146 45" 
                  fill="none" 
                  xmlns="http://www.w3.org/2000/svg"
                  className="h-full w-auto"
                >
                {/* "gred" letters - theme colored */}
                <path d="M141.718 31.579V5.82856H145.358V35.6571H142.031L141.718 31.579ZM127.472 25.3841V24.9763C127.472 23.371 127.667 21.9145 128.059 20.6069C128.463 19.2864 129.031 18.1536 129.761 17.2085C130.505 16.2634 131.385 15.5384 132.403 15.0335C133.434 14.5156 134.582 14.2567 135.847 14.2567C137.178 14.2567 138.339 14.4897 139.33 14.9558C140.335 15.4089 141.183 16.0757 141.874 16.956C142.579 17.8234 143.133 18.8721 143.538 20.102C143.942 21.3319 144.223 22.7237 144.379 24.2772V26.0638C144.236 27.6045 143.955 28.9897 143.538 30.2196C143.133 31.4495 142.579 32.4982 141.874 33.3656C141.183 34.233 140.335 34.8998 139.33 35.3658C138.326 35.819 137.152 36.0455 135.808 36.0455C134.569 36.0455 133.434 35.7801 132.403 35.2493C131.385 34.7185 130.505 33.9741 129.761 33.0161C129.031 32.058 128.463 30.9317 128.059 29.637C127.667 28.3295 127.472 26.9118 127.472 25.3841ZM131.111 24.9763V25.3841C131.111 26.4328 131.216 27.4167 131.425 28.3359C131.646 29.2551 131.986 30.0643 132.442 30.7634C132.899 31.4625 133.479 32.0127 134.184 32.4141C134.888 32.8024 135.73 32.9966 136.708 32.9966C137.908 32.9966 138.893 32.7442 139.663 32.2393C140.446 31.7344 141.072 31.0676 141.542 30.2391C142.011 29.4105 142.377 28.5107 142.638 27.5397V22.8596C142.481 22.1475 142.253 21.4614 141.953 20.8011C141.666 20.1279 141.287 19.5324 140.818 19.0145C140.361 18.4837 139.794 18.0629 139.115 17.7522C138.45 17.4415 137.661 17.2862 136.747 17.2862C135.756 17.2862 134.901 17.4933 134.184 17.9076C133.479 18.3089 132.899 18.8656 132.442 19.5777C131.986 20.2768 131.646 21.0924 131.425 22.0245C131.216 22.9437 131.111 23.9277 131.111 24.9763Z" className="fill-primary"/>
                <path d="M115.906 36.0455C114.432 36.0455 113.095 35.7995 111.895 35.3076C110.708 34.8027 109.684 34.0971 108.822 33.1908C107.975 32.2846 107.322 31.21 106.866 29.9672C106.409 28.7243 106.181 27.3649 106.181 25.8891V25.0734C106.181 23.3645 106.435 21.8433 106.944 20.5098C107.453 19.1634 108.144 18.0241 109.018 17.092C109.892 16.1598 110.884 15.4542 111.993 14.9752C113.102 14.4962 114.25 14.2567 115.437 14.2567C116.95 14.2567 118.255 14.5156 119.351 15.0335C120.459 15.5513 121.366 16.2763 122.071 17.2085C122.775 18.1277 123.297 19.2152 123.636 20.471C123.975 21.7138 124.145 23.0732 124.145 24.5491V26.1609H108.333V23.2286H120.525V22.9567C120.472 22.0245 120.277 21.1183 119.938 20.2379C119.611 19.3576 119.09 18.6326 118.372 18.0629C117.655 17.4933 116.676 17.2085 115.437 17.2085C114.615 17.2085 113.858 17.3832 113.167 17.7328C112.475 18.0694 111.882 18.5743 111.386 19.2475C110.89 19.9207 110.505 20.7428 110.231 21.7138C109.957 22.6848 109.821 23.8047 109.821 25.0734V25.8891C109.821 26.8859 109.957 27.8245 110.231 28.7049C110.518 29.5723 110.929 30.3361 111.464 30.9964C112.012 31.6567 112.671 32.1745 113.441 32.55C114.224 32.9254 115.111 33.1132 116.102 33.1132C117.381 33.1132 118.463 32.8542 119.351 32.3364C120.238 31.8185 121.014 31.1259 121.679 30.2585L123.871 31.9868C123.414 32.673 122.834 33.3268 122.129 33.9482C121.425 34.5696 120.557 35.0745 119.527 35.4629C118.509 35.8513 117.302 36.0455 115.906 36.0455Z" className="fill-primary"/>
                <path d="M97.5508 17.9464V35.6571H93.9306V14.6451H97.453L97.5508 17.9464ZM104.165 14.5286L104.146 17.8687C103.845 17.804 103.558 17.7652 103.285 17.7522C103.024 17.7263 102.724 17.7134 102.384 17.7134C101.549 17.7134 100.812 17.8428 100.173 18.1018C99.5338 18.3607 98.9924 18.7232 98.5489 19.1893C98.1053 19.6553 97.7531 20.212 97.4921 20.8594C97.2443 21.4937 97.0812 22.1928 97.0029 22.9567L95.9853 23.5393C95.9853 22.2705 96.1093 21.0795 96.3571 19.9661C96.6181 18.8527 97.016 17.8687 97.5508 17.0143C98.0857 16.1469 98.7641 15.4736 99.586 14.9946C100.421 14.5027 101.412 14.2567 102.56 14.2567C102.821 14.2567 103.121 14.289 103.461 14.3538C103.8 14.4056 104.035 14.4638 104.165 14.5286Z" className="fill-primary"/>
                <path d="M85.1442 14.6451H88.4318V35.2105C88.4318 37.0618 88.0534 38.6413 87.2968 39.9489C86.5401 41.2565 85.4834 42.2469 84.1266 42.9201C82.7829 43.6062 81.2304 43.9493 79.4692 43.9493C78.7386 43.9493 77.8776 43.8328 76.8861 43.5998C75.9077 43.3797 74.9423 42.9978 73.9899 42.454C73.0506 41.9232 72.2613 41.2047 71.6221 40.2984L73.5203 38.1623C74.4074 39.2239 75.3337 39.9618 76.299 40.3761C77.2775 40.7904 78.2429 40.9975 79.1952 40.9975C80.3433 40.9975 81.3348 40.7839 82.1697 40.3567C83.0047 39.9295 83.6504 39.2951 84.107 38.4536C84.5767 37.625 84.8115 36.6022 84.8115 35.3853V19.267L85.1442 14.6451ZM70.5654 25.3841V24.9763C70.5654 23.371 70.7545 21.9145 71.1329 20.6069C71.5242 19.2864 72.0787 18.1536 72.7962 17.2085C73.5268 16.2634 74.4074 15.5384 75.438 15.0335C76.4686 14.5156 77.6297 14.2567 78.9213 14.2567C80.252 14.2567 81.413 14.4897 82.4045 14.9558C83.4091 15.4089 84.2571 16.0757 84.9485 16.956C85.653 17.8234 86.2074 18.8721 86.6118 20.102C87.0163 21.3319 87.2968 22.7236 87.4533 24.2772V26.0638C87.3098 27.6045 87.0293 28.9897 86.6118 30.2196C86.2074 31.4495 85.653 32.4982 84.9485 33.3656C84.2571 34.233 83.4091 34.8998 82.4045 35.3658C81.4 35.819 80.2259 36.0455 78.8821 36.0455C77.6167 36.0455 76.4686 35.7801 75.438 35.2493C74.4204 34.7185 73.5464 33.9741 72.8158 33.0161C72.0852 32.058 71.5242 30.9317 71.1329 29.637C70.7545 28.3295 70.5654 26.9118 70.5654 25.3841ZM74.1856 24.9763V25.3841C74.1856 26.4328 74.29 27.4167 74.4987 28.3359C74.7205 29.2551 75.0532 30.0643 75.4967 30.7634C75.9533 31.4625 76.5339 32.0127 77.2384 32.4141C77.9428 32.8024 78.7843 32.9966 79.7627 32.9966C80.963 32.9966 81.9545 32.7442 82.7372 32.2393C83.52 31.7344 84.1396 31.0676 84.5963 30.2391C85.0659 29.4105 85.4312 28.5107 85.6921 27.5397V22.8596C85.5486 22.1475 85.3268 21.4614 85.0268 20.8011C84.7398 20.1279 84.3614 19.5324 83.8918 19.0145C83.4352 18.4837 82.8677 18.0629 82.1893 17.7522C81.5109 17.4415 80.7151 17.2861 79.8019 17.2861C78.8104 17.2861 77.9559 17.4933 77.2384 17.9076C76.5339 18.3089 75.9533 18.8656 75.4967 19.5777C75.0532 20.2768 74.7205 21.0924 74.4987 22.0245C74.29 22.9437 74.1856 23.9277 74.1856 24.9763Z" className="fill-primary"/>
                {/* "One" letters - black/white for light/dark mode */}
                <path d="M58.961 36.0455C57.4868 36.0455 56.1496 35.7995 54.9494 35.3076C53.7622 34.8027 52.7381 34.0971 51.8771 33.1908C51.0291 32.2846 50.3768 31.21 49.9202 29.9672C49.4636 28.7243 49.2353 27.3649 49.2353 25.8891V25.0734C49.2353 23.3645 49.4897 21.8433 49.9985 20.5098C50.5073 19.1634 51.1987 18.0241 52.0728 17.092C52.9468 16.1598 53.9383 15.4542 55.0472 14.9752C56.1561 14.4962 57.3042 14.2567 58.4914 14.2567C60.0047 14.2567 61.3093 14.5156 62.4051 15.0335C63.514 15.5513 64.4207 16.2763 65.1252 17.2085C65.8297 18.1277 66.3515 19.2152 66.6907 20.471C67.0299 21.7138 67.1995 23.0732 67.1995 24.5491V26.1609H51.3879V23.2286H63.5793V22.9567C63.5271 22.0245 63.3314 21.1183 62.9922 20.2379C62.666 19.3576 62.1442 18.6326 61.4267 18.0629C60.7092 17.4933 59.7307 17.2085 58.4914 17.2085C57.6695 17.2085 56.9128 17.3832 56.2214 17.7328C55.5299 18.0694 54.9363 18.5743 54.4406 19.2475C53.9449 19.9207 53.56 20.7428 53.286 21.7138C53.0121 22.6848 52.8751 23.8047 52.8751 25.0734V25.8891C52.8751 26.8859 53.0121 27.8245 53.286 28.7049C53.573 29.5723 53.984 30.3361 54.5189 30.9964C55.0668 31.6567 55.7256 32.1745 56.4953 32.55C57.2781 32.9254 58.1652 33.1132 59.1567 33.1132C60.4352 33.1132 61.518 32.8542 62.4051 32.3364C63.2923 31.8185 64.0685 31.1259 64.7338 30.2585L66.9255 31.9868C66.4689 32.673 65.8884 33.3268 65.1839 33.9482C64.4794 34.5696 63.6119 35.0745 62.5812 35.4629C61.5637 35.8513 60.3569 36.0455 58.961 36.0455Z" className="fill-foreground"/>
                <path d="M31.6429 19.131V35.6571H28.0226V14.6451H31.4472L31.6429 19.131ZM30.7818 24.3549L29.275 24.2966C29.2881 22.8596 29.5033 21.5326 29.9208 20.3156C30.3383 19.0857 30.9253 18.0176 31.682 17.1114C32.4387 16.2051 33.3388 15.506 34.3825 15.014C35.4392 14.5091 36.6068 14.2567 37.8853 14.2567C38.929 14.2567 39.8683 14.3991 40.7033 14.6839C41.5382 14.9558 42.2492 15.396 42.8363 16.0045C43.4364 16.6129 43.893 17.4027 44.2061 18.3736C44.5192 19.3317 44.6757 20.5033 44.6757 21.8886V35.6571H41.0359V21.8498C41.0359 20.7493 40.8729 19.869 40.5467 19.2087C40.2206 18.5355 39.7444 18.05 39.1182 17.7522C38.492 17.4415 37.7223 17.2861 36.8091 17.2861C35.9089 17.2861 35.087 17.4739 34.3434 17.8493C33.6128 18.2248 32.9801 18.7426 32.4452 19.4029C31.9234 20.0632 31.5124 20.8205 31.2124 21.675C30.9253 22.5165 30.7818 23.4098 30.7818 24.3549Z" className="fill-foreground"/>
                <path d="M22.9152 20.6263V22.4129C22.9152 24.5362 22.6477 26.4393 22.1128 28.1223C21.5779 29.8054 20.8082 31.2359 19.8037 32.4141C18.7992 33.5922 17.5924 34.492 16.1835 35.1134C14.7875 35.7348 13.222 36.0455 11.4869 36.0455C9.80401 36.0455 8.25807 35.7348 6.84911 35.1134C5.45319 34.492 4.23992 33.5922 3.2093 32.4141C2.19171 31.2359 1.40244 29.8054 0.841462 28.1223C0.280487 26.4393 0 24.5362 0 22.4129V20.6263C0 18.5031 0.273964 16.6065 0.821893 14.9364C1.38287 13.2533 2.17215 11.8228 3.18973 10.6446C4.20731 9.45357 5.41406 8.54732 6.80997 7.92589C8.21893 7.30446 9.76487 6.99374 11.4478 6.99374C13.1829 6.99374 14.7484 7.30446 16.1443 7.92589C17.5533 8.54732 18.76 9.45357 19.7646 10.6446C20.7821 11.8228 21.5584 13.2533 22.0933 14.9364C22.6412 16.6065 22.9152 18.5031 22.9152 20.6263ZM19.1775 22.4129V20.5875C19.1775 18.9045 19.0014 17.4156 18.6491 16.121C18.3099 14.8263 17.8077 13.7388 17.1423 12.8585C16.477 11.9781 15.6616 11.3114 14.6962 10.8583C13.7439 10.4051 12.6611 10.1786 11.4478 10.1786C10.2737 10.1786 9.21042 10.4051 8.25807 10.8583C7.31876 11.3114 6.50991 11.9781 5.83152 12.8585C5.16618 13.7388 4.65087 14.8263 4.28558 16.121C3.9203 17.4156 3.73766 18.9045 3.73766 20.5875V22.4129C3.73766 24.1089 3.9203 25.6107 4.28558 26.9183C4.65087 28.2129 5.17271 29.3069 5.85109 30.2002C6.54253 31.0806 7.3579 31.7473 8.2972 32.2004C9.24955 32.6536 10.3128 32.8801 11.4869 32.8801C12.7132 32.8801 13.8026 32.6536 14.7549 32.2004C15.7073 31.7473 16.5096 31.0806 17.1619 30.2002C17.8272 29.3069 18.3295 28.2129 18.6687 26.9183C19.0079 25.6107 19.1775 24.1089 19.1775 22.4129Z" className="fill-foreground"/>
                {/* Small text at bottom - theme colored */}
                <g className="fill-primary">
                  <path d="M143.838 41.6062V43.8857H143.36V40.9875H143.811L143.838 41.6062ZM143.722 42.3268L143.528 42.3187C143.526 42.1205 143.548 41.9375 143.595 41.7696C143.644 41.6 143.712 41.4526 143.8 41.3276C143.89 41.2026 143.997 41.1062 144.121 41.0384C144.246 40.9687 144.383 40.9339 144.534 40.9339C144.653 40.9339 144.761 40.9535 144.858 40.9928C144.955 41.0303 145.038 41.091 145.107 41.175C145.175 41.2589 145.227 41.3678 145.263 41.5018C145.301 41.6339 145.32 41.7955 145.32 41.9866V43.8857H144.842V41.9812C144.842 41.8294 144.825 41.708 144.791 41.6169C144.758 41.5241 144.708 41.4571 144.64 41.416C144.573 41.3732 144.488 41.3518 144.386 41.3518C144.292 41.3518 144.205 41.3776 144.124 41.4294C144.043 41.4812 143.972 41.5526 143.911 41.6437C143.851 41.7348 143.805 41.8393 143.771 41.9571C143.738 42.0732 143.722 42.1964 143.722 42.3268Z"/>
                  <path d="M140.486 42.5759V42.3C140.486 42.075 140.514 41.8776 140.572 41.708C140.63 41.5366 140.71 41.3937 140.812 41.2794C140.915 41.1651 141.034 41.0794 141.171 41.0223C141.308 40.9634 141.455 40.9339 141.611 40.9339C141.771 40.9339 141.92 40.9634 142.057 41.0223C142.193 41.0794 142.313 41.1651 142.416 41.2794C142.52 41.3937 142.601 41.5366 142.658 41.708C142.716 41.8776 142.745 42.075 142.745 42.3V42.5759C142.745 42.8009 142.716 42.9991 142.658 43.1705C142.601 43.3401 142.521 43.4821 142.418 43.5964C142.316 43.7107 142.196 43.7964 142.059 43.8535C141.922 43.9107 141.775 43.9393 141.617 43.9393C141.458 43.9393 141.311 43.9107 141.174 43.8535C141.037 43.7964 140.917 43.7107 140.812 43.5964C140.71 43.4821 140.63 43.3401 140.572 43.1705C140.514 42.9991 140.486 42.8009 140.486 42.5759ZM140.963 42.3V42.5759C140.963 42.7348 140.98 42.8741 141.012 42.9937C141.044 43.1134 141.09 43.2134 141.15 43.2937C141.209 43.3741 141.278 43.4348 141.357 43.4759C141.437 43.5151 141.523 43.5348 141.617 43.5348C141.725 43.5348 141.819 43.5151 141.9 43.4759C141.983 43.4348 142.051 43.3741 142.105 43.2937C142.159 43.2134 142.2 43.1134 142.227 42.9937C142.254 42.8741 142.267 42.7348 142.267 42.5759V42.3C142.267 42.141 142.251 42.0026 142.218 41.8848C142.186 41.7651 142.14 41.6651 142.081 41.5848C142.021 41.5026 141.951 41.4419 141.87 41.4026C141.791 41.3616 141.705 41.341 141.611 41.341C141.519 41.341 141.434 41.3616 141.355 41.4026C141.276 41.4419 141.206 41.5026 141.147 41.5848C141.089 41.6651 141.044 41.7651 141.012 41.8848C140.98 42.0026 140.963 42.141 140.963 42.3Z"/>
                  <path d="M139.83 40.9875V43.8857H139.355V40.9875H139.83ZM139.328 40.2187C139.328 40.1384 139.35 40.0705 139.395 40.0152C139.44 39.9598 139.508 39.9321 139.598 39.9321C139.688 39.9321 139.755 39.9598 139.8 40.0152C139.847 40.0705 139.87 40.1384 139.87 40.2187C139.87 40.2955 139.847 40.3616 139.8 40.417C139.755 40.4705 139.688 40.4973 139.598 40.4973C139.508 40.4973 139.44 40.4705 139.395 40.417C139.35 40.3616 139.328 40.2955 139.328 40.2187Z"/>
                  <path d="M138.747 40.9875V41.3678H137.384V40.9875H138.747ZM137.83 40.283H138.307V43.1678C138.307 43.2661 138.319 43.3402 138.342 43.3902C138.368 43.4402 138.399 43.4732 138.437 43.4893C138.475 43.5053 138.515 43.5134 138.558 43.5134C138.591 43.5134 138.627 43.5098 138.666 43.5027C138.706 43.4937 138.733 43.4866 138.747 43.4812L138.745 43.8857C138.712 43.8982 138.669 43.9098 138.615 43.9205C138.561 43.933 138.493 43.9393 138.41 43.9393C138.307 43.9393 138.212 43.9152 138.124 43.8669C138.036 43.8187 137.965 43.7384 137.911 43.6259C137.857 43.5116 137.83 43.358 137.83 43.1652V40.283Z"/>
                  <path d="M136.486 43.216V40.9875H136.963V43.8857H136.51L136.486 43.216ZM136.575 42.6053L136.764 42.6C136.764 42.7928 136.746 42.9714 136.712 43.1357C136.68 43.2982 136.626 43.4393 136.55 43.5589C136.477 43.6785 136.378 43.7723 136.256 43.8402C136.134 43.9062 135.983 43.9393 135.805 43.9393C135.685 43.9393 135.575 43.9187 135.476 43.8777C135.379 43.8366 135.294 43.7732 135.222 43.6875C135.152 43.6018 135.097 43.4902 135.058 43.3527C135.02 43.2152 135.001 43.05 135.001 42.8571V40.9875H135.476V42.8625C135.476 42.9928 135.488 43.1009 135.511 43.1866C135.535 43.2705 135.566 43.3375 135.606 43.3875C135.645 43.4357 135.689 43.4696 135.738 43.4893C135.786 43.5089 135.836 43.5187 135.886 43.5187C136.055 43.5187 136.19 43.4785 136.291 43.3982C136.392 43.316 136.464 43.2062 136.507 43.0687C136.552 42.9294 136.575 42.775 136.575 42.6053Z"/>
                  <path d="M134.253 39.7714V43.8857H133.778V39.7714H134.253Z"/>
                  <path d="M130.866 42.5759V42.3C130.866 42.075 130.895 41.8776 130.952 41.708C131.01 41.5366 131.09 41.3937 131.192 41.2794C131.295 41.1651 131.415 41.0794 131.551 41.0223C131.688 40.9634 131.835 40.9339 131.991 40.9339C132.152 40.9339 132.3 40.9634 132.437 41.0223C132.574 41.0794 132.693 41.1651 132.796 41.2794C132.9 41.3937 132.981 41.5366 133.039 41.708C133.096 41.8776 133.125 42.075 133.125 42.3V42.5759C133.125 42.8009 133.096 42.9991 133.039 43.1705C132.981 43.3401 132.901 43.4821 132.798 43.5964C132.696 43.7107 132.576 43.7964 132.439 43.8535C132.303 43.9107 132.155 43.9393 131.997 43.9393C131.838 43.9393 131.691 43.9107 131.554 43.8535C131.417 43.7964 131.297 43.7107 131.192 43.5964C131.09 43.4821 131.01 43.3401 130.952 43.1705C130.895 42.9991 130.866 42.8009 130.866 42.5759ZM131.344 42.3V42.5759C131.344 42.7348 131.36 42.8741 131.392 42.9937C131.425 43.1134 131.47 43.2134 131.53 43.2937C131.589 43.3741 131.658 43.4348 131.738 43.4759C131.817 43.5151 131.903 43.5348 131.997 43.5348C132.105 43.5348 132.199 43.5151 132.28 43.4759C132.363 43.4348 132.431 43.3741 132.485 43.2937C132.539 43.2134 132.58 43.1134 132.607 42.9937C132.634 42.8741 132.647 42.7348 132.647 42.5759V42.3C132.647 42.141 132.631 42.0026 132.599 41.8848C132.566 41.7651 132.52 41.6651 132.461 41.5848C132.402 41.5026 132.331 41.4419 132.251 41.4026C132.171 41.3616 132.085 41.341 131.991 41.341C131.9 41.341 131.814 41.3616 131.735 41.4026C131.656 41.4419 131.587 41.5026 131.527 41.5848C131.47 41.6651 131.425 41.7651 131.392 41.8848C131.36 42.0026 131.344 42.141 131.344 42.3Z"/>
                  <path d="M129.883 42.9C129.883 42.8089 129.873 42.7286 129.851 42.6589C129.829 42.5875 129.792 42.5232 129.738 42.4661C129.684 42.4089 129.608 42.3545 129.511 42.3027C129.414 42.2509 129.29 42.1982 129.141 42.1446C128.979 42.0875 128.832 42.0241 128.701 41.9545C128.57 41.883 128.457 41.8018 128.364 41.7107C128.272 41.6196 128.201 41.5152 128.15 41.3973C128.1 41.2795 128.075 41.1446 128.075 40.9928C128.075 40.8411 128.101 40.7009 128.153 40.5723C128.207 40.4437 128.283 40.3321 128.38 40.2375C128.479 40.1411 128.598 40.0661 128.736 40.0125C128.875 39.9589 129.03 39.9321 129.2 39.9321C129.456 39.9321 129.671 39.9884 129.846 40.1009C130.022 40.2116 130.155 40.3571 130.245 40.5375C130.335 40.7161 130.38 40.9071 130.38 41.1107H129.883C129.883 40.9643 129.859 40.8348 129.81 40.7223C129.764 40.608 129.69 40.5187 129.589 40.4545C129.49 40.3884 129.361 40.3553 129.2 40.3553C129.056 40.3553 128.938 40.383 128.844 40.4384C128.752 40.4937 128.684 40.5687 128.639 40.6634C128.596 40.758 128.574 40.8661 128.574 40.9875C128.574 41.0696 128.589 41.1446 128.617 41.2125C128.646 41.2786 128.69 41.3402 128.75 41.3973C128.811 41.4545 128.886 41.5071 128.976 41.5553C129.068 41.6036 129.176 41.65 129.3 41.6946C129.493 41.7571 129.658 41.8268 129.794 41.9036C129.931 41.9803 130.043 42.067 130.129 42.1634C130.215 42.258 130.278 42.3661 130.318 42.4875C130.359 42.6071 130.38 42.7428 130.38 42.8946C130.38 43.0536 130.353 43.1973 130.299 43.3259C130.247 43.4545 130.17 43.5643 130.07 43.6553C129.969 43.7464 129.847 43.817 129.705 43.867C129.563 43.9152 129.403 43.9393 129.225 43.9393C129.07 43.9393 128.918 43.9143 128.769 43.8643C128.621 43.8143 128.487 43.7393 128.366 43.6393C128.246 43.5393 128.15 43.4161 128.078 43.2696C128.006 43.1214 127.97 42.95 127.97 42.7553H128.466C128.466 42.8893 128.486 43.0045 128.526 43.1009C128.565 43.1955 128.62 43.2741 128.69 43.3366C128.76 43.3991 128.841 43.4455 128.931 43.4759C129.022 43.5045 129.12 43.5187 129.225 43.5187C129.369 43.5187 129.489 43.4937 129.586 43.4437C129.685 43.3937 129.759 43.3223 129.808 43.2295C129.858 43.1366 129.883 43.0268 129.883 42.9Z"/>
                  <path d="M124.582 41.5446V45H124.104V40.9875H124.539L124.582 41.5446ZM126.215 42.3053V42.5759C126.215 42.8044 126.194 43.0044 126.15 43.1759C126.109 43.3455 126.047 43.4875 125.964 43.6018C125.883 43.7143 125.783 43.7991 125.665 43.8562C125.546 43.9116 125.41 43.9393 125.257 43.9393C125.104 43.9393 124.971 43.9107 124.858 43.8535C124.746 43.7946 124.651 43.7098 124.574 43.5991C124.499 43.4884 124.438 43.3553 124.393 43.2C124.35 43.0428 124.32 42.8669 124.304 42.6723V42.2598C124.32 42.0544 124.35 41.8705 124.393 41.708C124.436 41.5437 124.496 41.4044 124.571 41.2901C124.649 41.1741 124.743 41.0857 124.855 41.025C124.968 40.9643 125.1 40.9339 125.252 40.9339C125.408 40.9339 125.546 40.9607 125.665 41.0143C125.785 41.0678 125.886 41.1509 125.967 41.2634C126.05 41.3741 126.112 41.516 126.153 41.6893C126.195 41.8607 126.215 42.066 126.215 42.3053ZM125.737 42.5759V42.3053C125.737 42.1446 125.725 42.0044 125.7 41.8848C125.676 41.7651 125.638 41.666 125.586 41.5875C125.534 41.5089 125.468 41.45 125.389 41.4107C125.31 41.3714 125.215 41.3518 125.103 41.3518C125.008 41.3518 124.923 41.3714 124.849 41.4107C124.777 41.45 124.715 41.5035 124.663 41.5714C124.611 41.6375 124.568 41.7134 124.534 41.7991C124.499 41.883 124.474 41.9705 124.458 42.0616V42.8732C124.489 42.9875 124.529 43.0955 124.58 43.1973C124.63 43.2973 124.697 43.3785 124.782 43.441C124.868 43.5035 124.977 43.5348 125.109 43.5348C125.218 43.5348 125.313 43.5151 125.392 43.4759C125.471 43.4366 125.536 43.3776 125.586 43.2991C125.638 43.2187 125.676 43.1187 125.7 42.9991C125.725 42.8776 125.737 42.7366 125.737 42.5759Z"/>
                  <path d="M121.23 42.5759V42.3C121.23 42.075 121.259 41.8776 121.316 41.708C121.374 41.5366 121.454 41.3937 121.556 41.2794C121.659 41.1651 121.779 41.0794 121.915 41.0223C122.052 40.9634 122.199 40.9339 122.355 40.9339C122.516 40.9339 122.664 40.9634 122.801 41.0223C122.937 41.0794 123.057 41.1651 123.16 41.2794C123.264 41.3937 123.345 41.5366 123.403 41.708C123.46 41.8776 123.489 42.075 123.489 42.3V42.5759C123.489 42.8009 123.46 42.9991 123.403 43.1705C123.345 43.3401 123.265 43.4821 123.162 43.5964C123.06 43.7107 122.94 43.7964 122.803 43.8535C122.667 43.9107 122.519 43.9393 122.361 43.9393C122.202 43.9393 122.055 43.9107 121.918 43.8535C121.781 43.7964 121.661 43.7107 121.556 43.5964C121.454 43.4821 121.374 43.3401 121.316 43.1705C121.259 42.9991 121.23 42.8009 121.23 42.5759ZM121.708 42.3V42.5759C121.708 42.7348 121.724 42.8741 121.756 42.9937C121.789 43.1134 121.834 43.2134 121.894 43.2937C121.953 43.3741 122.022 43.4348 122.102 43.4759C122.181 43.5151 122.267 43.5348 122.361 43.5348C122.469 43.5348 122.563 43.5151 122.644 43.4759C122.727 43.4348 122.795 43.3741 122.849 43.2937C122.903 43.2134 122.944 43.1134 122.971 42.9937C122.998 42.8741 123.011 42.7348 123.011 42.5759V42.3C123.011 42.141 122.995 42.0026 122.963 41.8848C122.93 41.7651 122.884 41.6651 122.825 41.5848C122.766 41.5026 122.695 41.4419 122.614 41.4026C122.535 41.3616 122.449 41.341 122.355 41.341C122.264 41.341 122.178 41.3616 122.099 41.4026C122.02 41.4419 121.951 41.5026 121.891 41.5848C121.834 41.6651 121.789 41.7651 121.756 41.8848C121.724 42.0026 121.708 42.141 121.708 42.3Z"/>
                  <path d="M120.814 40.9875V41.3678H119.451V40.9875H120.814ZM119.896 40.283H120.374V43.1678C120.374 43.2661 120.386 43.3402 120.409 43.3902C120.435 43.4402 120.466 43.4732 120.504 43.4893C120.542 43.5053 120.582 43.5134 120.625 43.5134C120.658 43.5134 120.694 43.5098 120.733 43.5027C120.773 43.4937 120.8 43.4866 120.814 43.4812L120.811 43.8857C120.779 43.8982 120.736 43.9098 120.682 43.9205C120.628 43.933 120.56 43.9393 120.477 43.9393C120.374 43.9393 120.279 43.9152 120.191 43.8669C120.103 43.8187 120.031 43.7384 119.977 43.6259C119.923 43.5116 119.896 43.358 119.896 43.1652V40.283Z"/>
                  <path d="M118.666 42.9C118.666 42.8089 118.655 42.7286 118.633 42.6589C118.612 42.5875 118.574 42.5232 118.52 42.4661C118.466 42.4089 118.39 42.3545 118.293 42.3027C118.196 42.2509 118.073 42.1982 117.923 42.1446C117.761 42.0875 117.615 42.0241 117.483 41.9545C117.352 41.883 117.24 41.8018 117.146 41.7107C117.054 41.6196 116.983 41.5152 116.933 41.3973C116.882 41.2795 116.857 41.1446 116.857 40.9928C116.857 40.8411 116.883 40.7009 116.935 40.5723C116.989 40.4437 117.065 40.3321 117.162 40.2375C117.261 40.1411 117.38 40.0661 117.519 40.0125C117.657 39.9589 117.812 39.9321 117.983 39.9321C118.238 39.9321 118.453 39.9884 118.628 40.1009C118.804 40.2116 118.937 40.3571 119.027 40.5375C119.117 40.7161 119.162 40.9071 119.162 41.1107H118.666C118.666 40.9643 118.641 40.8348 118.593 40.7223C118.546 40.608 118.472 40.5187 118.371 40.4545C118.272 40.3884 118.143 40.3553 117.983 40.3553C117.839 40.3553 117.72 40.383 117.626 40.4384C117.535 40.4937 117.466 40.5687 117.421 40.6634C117.378 40.758 117.357 40.8661 117.357 40.9875C117.357 41.0696 117.371 41.1446 117.4 41.2125C117.429 41.2786 117.473 41.3402 117.532 41.3973C117.593 41.4545 117.669 41.5071 117.759 41.5553C117.851 41.6036 117.958 41.65 118.083 41.6946C118.275 41.7571 118.44 41.8268 118.577 41.9036C118.713 41.9803 118.825 42.067 118.911 42.1634C118.998 42.258 119.061 42.3661 119.1 42.4875C119.142 42.6071 119.162 42.7428 119.162 42.8946C119.162 43.0536 119.135 43.1973 119.081 43.3259C119.029 43.4545 118.953 43.5643 118.852 43.6553C118.751 43.7464 118.63 43.817 118.488 43.867C118.345 43.9152 118.185 43.9393 118.007 43.9393C117.852 43.9393 117.7 43.9143 117.551 43.8643C117.403 43.8143 117.269 43.7393 117.149 43.6393C117.028 43.5393 116.932 43.4161 116.86 43.2696C116.788 43.1214 116.752 42.95 116.752 42.7553H117.249C117.249 42.8893 117.268 43.0045 117.308 43.1009C117.348 43.1955 117.402 43.2741 117.473 43.3366C117.543 43.3991 117.623 43.4455 117.713 43.4759C117.805 43.5045 117.903 43.5187 118.007 43.5187C118.151 43.5187 118.272 43.4937 118.369 43.4437C118.468 43.3937 118.541 43.3223 118.59 43.2295C118.64 43.1366 118.666 43.0268 118.666 42.9Z"/>
                  <path d="M114.066 43.9393C113.892 43.9393 113.734 43.9134 113.594 43.8616C113.454 43.8098 113.334 43.7312 113.235 43.6259C113.136 43.5187 113.06 43.3839 113.008 43.2214C112.956 43.0589 112.93 42.8669 112.93 42.6455V42.3187C112.93 42.0634 112.96 41.8473 113.019 41.6705C113.08 41.4937 113.162 41.3518 113.265 41.2446C113.367 41.1357 113.483 41.0571 113.613 41.0089C113.742 40.9589 113.876 40.9339 114.012 40.9339C114.196 40.9339 114.352 40.9634 114.482 41.0223C114.612 41.0812 114.717 41.1687 114.798 41.2848C114.879 41.4009 114.938 41.5437 114.976 41.7134C115.015 41.883 115.035 42.0785 115.035 42.3V42.5759H113.211V42.1714H114.558V42.1044C114.55 41.9544 114.53 41.8223 114.495 41.708C114.463 41.5937 114.409 41.5044 114.333 41.4401C114.258 41.3741 114.151 41.341 114.012 41.341C113.924 41.341 113.842 41.3562 113.767 41.3866C113.693 41.4151 113.629 41.466 113.575 41.5393C113.523 41.6107 113.481 41.7098 113.451 41.8366C113.422 41.9634 113.408 42.1241 113.408 42.3187V42.6455C113.408 42.8009 113.422 42.9348 113.451 43.0473C113.481 43.158 113.526 43.25 113.583 43.3232C113.643 43.3946 113.714 43.4482 113.799 43.4839C113.885 43.5178 113.984 43.5348 114.093 43.5348C114.253 43.5348 114.386 43.5044 114.49 43.4437C114.594 43.3812 114.685 43.3018 114.763 43.2053L115.014 43.5026C114.961 43.5759 114.893 43.6464 114.809 43.7143C114.726 43.7803 114.623 43.8348 114.501 43.8776C114.38 43.9187 114.235 43.9393 114.066 43.9393Z"/>
                  <path d="M110.822 41.6062V43.8857H110.344V40.9875H110.795L110.822 41.6062ZM110.706 42.3268L110.512 42.3187C110.51 42.1205 110.532 41.9375 110.579 41.7696C110.628 41.6 110.696 41.4526 110.784 41.3276C110.874 41.2026 110.981 41.1062 111.105 41.0384C111.23 40.9687 111.367 40.9339 111.518 40.9339C111.637 40.9339 111.745 40.9535 111.842 40.9928C111.939 41.0303 112.022 41.091 112.091 41.175C112.159 41.2589 112.211 41.3678 112.247 41.5018C112.285 41.6339 112.304 41.7955 112.304 41.9866V43.8857H111.826V41.9812C111.826 41.8294 111.809 41.708 111.775 41.6169C111.742 41.5241 111.692 41.4571 111.624 41.416C111.557 41.3732 111.472 41.3518 111.37 41.3518C111.276 41.3518 111.189 41.3776 111.108 41.4294C111.027 41.4812 110.956 41.5526 110.895 41.6437C110.835 41.7348 110.789 41.8393 110.754 41.9571C110.722 42.0732 110.706 42.1964 110.706 42.3268Z"/>
                  <path d="M109.64 41.5982V42.2759C109.64 42.5509 109.609 42.7928 109.548 43.0018C109.489 43.2089 109.401 43.3821 109.286 43.5214C109.171 43.6607 109.032 43.7652 108.87 43.8348C108.709 43.9045 108.526 43.9393 108.323 43.9393C108.126 43.9393 107.947 43.9045 107.785 43.8348C107.623 43.7652 107.484 43.6607 107.367 43.5214C107.25 43.3821 107.159 43.2089 107.094 43.0018C107.031 42.7928 107 42.5509 107 42.2759V41.5982C107 41.3232 107.031 41.0821 107.094 40.875C107.157 40.6661 107.247 40.492 107.364 40.3527C107.481 40.2134 107.621 40.1089 107.783 40.0393C107.945 39.9678 108.124 39.9321 108.32 39.9321C108.523 39.9321 108.706 39.9678 108.868 40.0393C109.032 40.1089 109.17 40.2134 109.283 40.3527C109.399 40.492 109.487 40.6661 109.548 40.875C109.609 41.0821 109.64 41.3232 109.64 41.5982ZM109.148 42.2759V41.5928C109.148 41.3786 109.13 41.1946 109.094 41.0411C109.058 40.8857 109.005 40.7589 108.935 40.6607C108.865 40.5625 108.779 40.4902 108.676 40.4437C108.574 40.3955 108.455 40.3714 108.32 40.3714C108.192 40.3714 108.077 40.3955 107.974 40.4437C107.874 40.4902 107.787 40.5625 107.715 40.6607C107.643 40.7589 107.587 40.8857 107.548 41.0411C107.51 41.1946 107.491 41.3786 107.491 41.5928V42.2759C107.491 42.492 107.51 42.6777 107.548 42.833C107.587 42.9866 107.643 43.1134 107.715 43.2134C107.789 43.3116 107.877 43.3848 107.98 43.433C108.082 43.4795 108.197 43.5027 108.323 43.5027C108.457 43.5027 108.576 43.4795 108.679 43.433C108.783 43.3848 108.87 43.3116 108.938 43.2134C109.008 43.1134 109.06 42.9866 109.094 42.833C109.13 42.6777 109.148 42.492 109.148 42.2759Z"/>
                </g>
                {/* Decorative elements - theme aware (same as "gred") */}
                <path d="M37.5034 8.09613C58.9845 -1.72506 92.5736 -1.63177 114.273 6.29688C115.824 6.76024 114.255 7.6277 112.925 7.27807C101.025 4.61059 88.097 3.3471 75.1615 3.58726C62.2259 3.82741 49.6365 5.56464 38.386 8.66192C37.4921 8.98334 36.6095 8.41755 37.5034 8.09613Z" className="fill-primary"/>
                <path d="M111.863 9.09955C113.181 9.91315 115.884 10.2819 117.501 9.66759C118.107 9.47298 118.165 9.35907 118.142 8.7007C118.123 7.47008 117.283 4.60069 115.535 3.63997C115.191 3.46505 115.046 3.60676 115.131 3.86508C115.613 4.75668 116.913 7.57318 116.361 8.22613C115.867 8.76518 113.106 8.51031 111.955 8.49949C111.466 8.46628 111.491 8.83852 111.863 9.09955Z" className="fill-primary"/>
              </svg>
              </div>

              <ChevronsUpDown className='ml-auto' />
            </SidebarMenuButton>
          </DropdownMenuTrigger>
          <DropdownMenuContent
            className='w-[--radix-dropdown-menu-trigger-width]'
            align='start'
          >
            {tenants.map((tenant) => (
              <DropdownMenuItem
                key={tenant.id}
                onSelect={() => handleTenantSwitch(tenant)}
              >
                {tenant.name}{' '}
                {tenant.id === selectedTenant.id && (
                  <Check className='ml-auto' />
                )}
              </DropdownMenuItem>
            ))}
          </DropdownMenuContent>
        </DropdownMenu>
      </SidebarMenuItem>
    </SidebarMenu>
  );
}
